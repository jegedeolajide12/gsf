{% extends '_base.html' %}
{% load static %}
{% block content %}

<!-- Hero Section -->
<section class="units-hero">
    <div class="container">
        <h1>Sign Up</h1>
        <p>Blah blah blah</p>
    </div>
</section>
<br>
<br>
<div class="container">
    <div class="signup-container">
        <div class="signup-left">
            <div class="floating floating-1">ðŸŒŸ</div>
            <div class="floating floating-2">âœ¨</div>
            <h1>Welcome to Gofamint Students' Fellowship(Futa Chapter)</h1>
            <p>Create an account to unlock exclusive features and personalized content. Connect with like-minded individuals and grow together.</p>
            
            <div class="features">
                <div class="feature">
                    <i class="fas fa-check-circle"></i>
                    <div>Access premium content and resources</div>
                </div>
                <div class="feature">
                    <i class="fas fa-check-circle"></i>
                    <div>Personalize your experience and preferences</div>
                </div>
                <div class="feature">
                    <i class="fas fa-check-circle"></i>
                    <div>Connect with our growing community</div>
                </div>
                <div class="feature">
                    <i class="fas fa-check-circle"></i>
                    <div>Receive personalized recommendations</div>
                </div>
            </div>
        </div>
        
        <div class="signup-right">
            <div class="signup-header">
                <h2>Create Account</h2>
                <p>Fill in your details to get started</p>
            </div>
            
            <form class="signup-form" id="signupForm" method="post" action="{% url 'account_signup' %}">
                {% csrf_token %}
                {% if form.non_field_errors %}
                    <div class="form-errors non-field-errors">
                        <ul>
                            {% for error in form.non_field_errors %}
                                <li>{{ error }}</li>
                            {% endfor %}
                        </ul>
                    </div>
                {% endif %}
                <!-- Hidden fields for allauth -->
                <input type="hidden" name="{{ redirect_field_name }}" value="{{ redirect_field_value }}" />
    
                <!-- <div class="form-group full-width">
                    <div class="profile-upload">
                        <div class="profile-preview" id="profilePreview">
                            <i class="fas fa-user"></i>
                        </div>
                        <button type="button" class="upload-btn" id="uploadBtn">
                            <i class="fas fa-upload"></i> Upload Photo
                        </button>
                        <input type="file" id="profileImage" accept="image/*" hidden>
                    </div>
                </div> -->
                
                <div class="form-group half-width">
                    <label for="firstName">First Name</label>
                    <div class="input-group">
                        {{ form.first_name }}
                        {% if form.first_name.errors %}
                            <div class="form-errors">
                                <ul>
                                    {% for error in form.first_name.errors %}
                                        <li>{{ error }}</li>
                                    {% endfor %}
                                </ul>
                            </div>
                        {% endif %}
                        <i class="fas fa-user input-icon"></i>
                    </div>
                </div>
                
                <div class="form-group half-width">
                    <label for="lastName">Last Name</label>
                    <div class="input-group">
                        {{ form.last_name }}
                        {% if form.last_name.errors %}
                            <div class="form-errors">
                                <ul>
                                    {% for error in form.last_name.errors %}
                                        <li>{{ error }}</li>
                                    {% endfor %}
                                </ul>
                            </div>
                        {% endif %}
                        <i class="fas fa-user input-icon"></i>
                    </div>
                </div>
                
                <div class="form-group full-width">
                    <label for="email">Email Address</label>
                    <div class="input-group">
                        {{ form.email }}
                        {% if form.email.errors %}
                            <div class="form-errors">
                                <ul>
                                    {% for error in form.email.errors %}
                                        <li>{{ error }}</li>
                                    {% endfor %}
                                </ul>
                            </div>
                        {% endif %}
                        <i class="fas fa-envelope input-icon"></i>
                    </div>
                </div>
                
                <div class="form-group half-width">
                    <label for="password">Password</label>
                    <div class="input-group">
                        {{ form.password1 }}
                        {% if form.password1.errors %}
                            <div class="form-errors">
                                <ul>
                                    {% for error in form.password1.errors %}
                                        <li>{{ error }}</li>
                                    {% endfor %}
                                </ul>
                            </div>
                        {% endif %}
                        <i class="fas fa-lock input-icon"></i>
                    </div>
                </div>
                
                <div class="form-group half-width">
                    <label for="confirmPassword">Confirm Password</label>
                    <div class="input-group">
                        {{ form.password2 }}
                        {% if form.password2.errors %}
                            <div class="form-errors">
                                <ul>
                                    {% for error in form.password2.errors %}
                                        <li>{{ error }}</li>
                                    {% endfor %}
                                </ul>
                            </div>
                        {% endif %}
                        <i class="fas fa-lock input-icon"></i>
                    </div>
                </div>
                
                <!-- <div class="form-group full-width">
                    <label for="bio">Short Description</label>
                    <textarea id="bio" class="form-control" placeholder="Tell us a little about yourself..." rows="4"></textarea>
                </div> -->
                
                <div class="form-group full-width">
                    <label for="phone">Phone Number</label>
                    <div class="input-group">
                        {{ form.phone_number }}
                        {% if form.phone_number.errors %}
                            <div class="form-errors">
                                <ul>
                                    {% for error in form.phone_number.errors %}
                                        <li>{{ error }}</li>
                                    {% endfor %}
                                </ul>
                            </div>
                        {% endif %}
                        <i class="fas fa-phone input-icon"></i>
                    </div>
                </div>
                
                <div class="form-group full-width">
                    <label for="location">Location</label>
                    <div class="input-group">
                        {{ form.address }}
                        {% if form.address.errors %}
                            <div class="form-errors">
                                <ul>
                                    {% for error in form.address.errors %}
                                        <li>{{ error }}</li>
                                    {% endfor %}
                                </ul>
                            </div>
                        {% endif %}
                        <i class="fas fa-map-marker-alt input-icon"></i>
                    </div>
                </div>
                
                <div class="form-group full-width">
                    <div class="terms">
                        <input type="checkbox" id="terms" required>
                        <label for="terms">I agree to the <a href="#">Terms & Conditions</a> and <a href="#">Privacy Policy</a></label>
                    </div>
                </div>
                
                <div class="form-group full-width">
                    <button type="submit" class="submit-btn">Create Account</button>
                </div>
                
                <div class="form-group full-width">
                    <div class="login-link">
                        Already have an account? <a href="#">Sign In</a>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<br>



<script>
    // Form validation and submission
    document.getElementById('signupForm').addEventListener('submit', function(e) {
        e.preventDefault();
        
        // Get form values
        const firstName = document.getElementById('firstName').value;
        const lastName = document.getElementById('lastName').value;
        const email = document.getElementById('email').value;
        const password = document.getElementById('password').value;
        const confirmPassword = document.getElementById('confirmPassword').value;
        
        // Simple validation
        if (password !== confirmPassword) {
            alert('Passwords do not match!');
            return;
        }
        
        // In a real app, you would submit the form to a server here
        alert(`Thank you for signing up, ${firstName} ${lastName}! Your account has been created.`);
        
        // Reset form
        this.reset();
        document.getElementById('profilePreview').innerHTML = '<i class="fas fa-user"></i>';
    });

    // Password strength indicator (could be enhanced)
    document.getElementById('password').addEventListener('input', function() {
        const password = this.value;
        const strengthIndicator = document.createElement('div');
        strengthIndicator.style.marginTop = '5px';
        strengthIndicator.style.fontSize = '0.8rem';
        
        if (password.length === 0) {
            this.parentNode.querySelector('.strength')?.remove();
            return;
        }
        
        let strength = 0;
        if (password.length >= 8) strength++;
        if (/[A-Z]/.test(password)) strength++;
        if (/[0-9]/.test(password)) strength++;
        if (/[^A-Za-z0-9]/.test(password)) strength++;
        
        let strengthText = '';
        let color = '';
        
        switch(strength) {
            case 0:
            case 1:
                strengthText = 'Weak';
                color = '#e74c3c';
                break;
            case 2:
                strengthText = 'Medium';
                color = '#f39c12';
                break;
            case 3:
                strengthText = 'Strong';
                color = '#27ae60';
                break;
            case 4:
                strengthText = 'Very Strong';
                color = '#2ecc71';
                break;
        }
        
        const existingIndicator = this.parentNode.querySelector('.strength');
        if (existingIndicator) {
            existingIndicator.textContent = `Password strength: ${strengthText}`;
            existingIndicator.style.color = color;
        } else {
            strengthIndicator.textContent = `Password strength: ${strengthText}`;
            strengthIndicator.style.color = color;
            strengthIndicator.className = 'strength';
            this.parentNode.appendChild(strengthIndicator);
        }
    });
</script>
{% endblock content %}